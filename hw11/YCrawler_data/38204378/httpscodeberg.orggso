<!DOCTYPE html>
<html lang="en-US" class="theme-codeberg-auto">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>gsou/LCL: Lua Common Lisp. An implementation of Common Lisp targeting Lua. - LCL - Codeberg.org</title>
	<link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiQ29kZWJlcmcub3JnIiwic2hvcnRfbmFtZSI6IkNvZGViZXJnLm9yZyIsInN0YXJ0X3VybCI6Imh0dHBzOi8vY29kZWJlcmcub3JnLyIsImljb25zIjpbeyJzcmMiOiJodHRwczovL2NvZGViZXJnLm9yZy9hc3NldHMvaW1nL2xvZ28ucG5nIiwidHlwZSI6ImltYWdlL3BuZyIsInNpemVzIjoiNTEyeDUxMiJ9LHsic3JjIjoiaHR0cHM6Ly9jb2RlYmVyZy5vcmcvYXNzZXRzL2ltZy9sb2dvLnN2ZyIsInR5cGUiOiJpbWFnZS9zdmcreG1sIiwic2l6ZXMiOiI1MTJ4NTEyIn1dfQ==">
	<meta name="author" content="gsou">
	<meta name="description" content="LCL - Lua Common Lisp. An implementation of Common Lisp targeting Lua.">
	<meta name="keywords" content="git,non-profit,foss,oss,free,software,open,source,code,hosting">
	<meta name="referrer" content="no-referrer">


	<link rel="alternate" type="application/atom+xml" title="" href="/gsou/LCL.atom">
	<link rel="alternate" type="application/rss+xml" title="" href="/gsou/LCL.rss">

	<link rel="icon" href="/assets/img/favicon.svg" type="image/svg+xml">
	<link rel="alternate icon" href="/assets/img/favicon.png" type="image/png">
	
<script>
	window.addEventListener('error', function(e) {window._globalHandlerErrors=window._globalHandlerErrors||[]; window._globalHandlerErrors.push(e);});
	window.config = {
		appUrl: 'https:\/\/codeberg.org\/',
		appSubUrl: '',
		assetVersionEncoded: encodeURIComponent('1.20.5~0-41-gb6bd18ca8'), 
		assetUrlPrefix: '\/assets',
		runModeIsProd:  true ,
		customEmojis: {"codeberg":":codeberg:","forgejo":":forgejo:","git":":git:","gitea":":gitea:","github":":github:","gitlab":":gitlab:","gogs":":gogs:"},
		csrfToken: '8dlxw9yzs4QkNjB4Ud2dR1rxL4w6MTY5OTU5MDY3NzQ1NDc5NDg2MQ',
		pageData: {},
		notificationSettings: {"EventSourceUpdateTime":10000,"MaxTimeout":60000,"MinTimeout":10000,"TimeoutStep":10000}, 
		enableTimeTracking:  true ,
		
		mermaidMaxSourceCharacters:  5000 ,
		
		i18n: {
			copy_success: 'Copied!',
			copy_error: 'Copy failed',
			error_occurred: 'An error occurred',
			network_error: 'Network error',
			remove_label_str: 'Remove item \u0022%s\u0022',
		},
	};
	
	window.config.pageData = window.config.pageData || {};
</script>
<script src="/assets/js/webcomponents.js?v=1.20.5~0-41-gb6bd18ca8"></script>

	<noscript>
		<style>
			.dropdown:hover > .menu { display: block; }
			.ui.secondary.menu .dropdown.item > .menu { margin-top: 0; }
		</style>
	</noscript>

	
		<meta property="og:title" content="LCL">
		<meta property="og:url" content="https://codeberg.org/gsou/LCL">
		
			<meta property="og:description" content="Lua Common Lisp. An implementation of Common Lisp targeting Lua.">
		
	
	<meta property="og:type" content="object">
	
		<meta property="og:image" content="https://codeberg.org/avatars/947df15c5dc08e5fdd36d184ad0015c5">
	

	<meta property="og:site_name" content="Codeberg.org">
	<link rel="stylesheet" href="/assets/css/index.css?v=1.20.5~0-41-gb6bd18ca8">

	<link rel="stylesheet" href="/assets/css/theme-codeberg-auto.css?v=1.20.5~0-41-gb6bd18ca8">


	
</head>
<body>
	

	<div class="full height">
		<noscript>This website requires JavaScript.</noscript>

		

		
			


<nav id="navbar" class="ui secondary stackable menu" aria-label="Navigation Bar">
	<div class="item">
		
		<a href="/" aria-label="Home">
		<img class="ui mini image" width="26" height="26" src="https://design.codeberg.org/logo-kit/icon_inverted.svg">
		</a>

		
		<div class="ui secondary menu navbar-mobile-right gt-gap-2">
			
			<button class="item ui icon mini button gt-p-3 gt-m-0" id="navbar-expand-toggle"><svg viewBox="0 0 16 16" class="svg octicon-three-bars" width="16" height="16" aria-hidden="true"><path d="M1 2.75A.75.75 0 0 1 1.75 2h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 2.75Zm0 5A.75.75 0 0 1 1.75 7h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 7.75ZM1.75 12h12.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1 0-1.5Z"/></svg></button>
		</div>
	</div>

	
	
		<a class="item" href="/explore/repos">Explore</a>
	

	

	
		<a class="item" target="_blank" href="https://docs.codeberg.org/getting-started/what-is-codeberg/#what-is-codeberg-e.v.%3F">About</a>
		<a class="item" target="_blank" href="https://docs.codeberg.org/getting-started/faq/">FAQ</a>
		<a class="item" target="_blank" href="https://docs.codeberg.org/improving-codeberg/#donate-to-codeberg">Donate</a>
		<a class="item" target="_blank" rel="noopener noreferrer" href="https://docs.codeberg.org">Help</a>
	

	
	<div class="right menu">
		
			
				<a class="item" href="/user/cbrgp/vhhYt8l">
					<svg viewBox="0 0 16 16" class="svg octicon-person" width="16" height="16" aria-hidden="true"><path d="M10.561 8.073a6.005 6.005 0 0 1 3.432 5.142.75.75 0 1 1-1.498.07 4.5 4.5 0 0 0-8.99 0 .75.75 0 0 1-1.498-.07 6.004 6.004 0 0 1 3.431-5.142 3.999 3.999 0 1 1 5.123 0ZM10.5 5a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"/></svg> Register
				</a>
			
			<a class="item" rel="nofollow" href="/user/login?redirect_to=%2fgsou%2fLCL">
				<svg viewBox="0 0 16 16" class="svg octicon-sign-in" width="16" height="16" aria-hidden="true"><path d="M2 2.75C2 1.784 2.784 1 3.75 1h2.5a.75.75 0 0 1 0 1.5h-2.5a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 0 1.5h-2.5A1.75 1.75 0 0 1 2 13.25Zm6.56 4.5h5.69a.75.75 0 0 1 0 1.5H8.56l1.97 1.97a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L6.22 8.53a.75.75 0 0 1 0-1.06l3.25-3.25a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734Z"/></svg> Sign In
			</a>
		
	</div>
</nav>

		



<div role="main" aria-label="gsou/LCL: Lua Common Lisp. An implementation of Common Lisp targeting Lua." class="page-content repository file list ">
	<div class="header-wrapper">

	<div class="ui container">
		<div class="repo-header">
			<div class="repo-title-wrap gt-df gt-fc">
				<div class="repo-title" role="heading" aria-level="1">
					
					
						<div class="repo-icon gt-mr-3">
	
		
			<svg viewBox="0 0 16 16" class="svg octicon-repo" width="32" height="32" aria-hidden="true"><path d="M2 2.5A2.5 2.5 0 0 1 4.5 0h8.75a.75.75 0 0 1 .75.75v12.5a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h1.75v-2h-8a1 1 0 0 0-.714 1.7.75.75 0 1 1-1.072 1.05A2.495 2.495 0 0 1 2 11.5Zm10.5-1h-8a1 1 0 0 0-1 1v6.708A2.486 2.486 0 0 1 4.5 9h8ZM5 12.25a.25.25 0 0 1 .25-.25h3.5a.25.25 0 0 1 .25.25v3.25a.25.25 0 0 1-.4.2l-1.45-1.087a.249.249 0 0 0-.3 0L5.4 15.7a.25.25 0 0 1-.4-.2Z"/></svg>
		
	
</div>

					
					<a href="/gsou">gsou</a>
					<div class="gt-mx-2">/</div>
					<a href="/gsou/LCL">LCL</a>
					<div class="labels gt-df gt-ac gt-fw">
						
						
							
								
							
						
						
					</div>
					
						<a class="rss-icon gt-ml-3" href="/gsou/LCL.rss" data-tooltip-content="RSS Feed"><svg viewBox="0 0 16 16" class="svg octicon-rss" width="18" height="18" aria-hidden="true"><path d="M2.002 2.725a.75.75 0 0 1 .797-.699C8.79 2.42 13.58 7.21 13.974 13.201a.75.75 0 0 1-1.497.098 10.502 10.502 0 0 0-9.776-9.776.747.747 0 0 1-.7-.798ZM2.84 7.05h-.002a7.002 7.002 0 0 1 6.113 6.111.75.75 0 0 1-1.49.178 5.503 5.503 0 0 0-4.8-4.8.75.75 0 0 1 .179-1.489ZM2 13a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"/></svg></a>
					
				</div>
				
				
				
			</div>
			
				<div class="repo-buttons">
					
					<form method="post" action="/gsou/LCL/action/watch?redirect_to=%2fgsou%2fLCL">
						<input type="hidden" name="_csrf" value="8dlxw9yzs4QkNjB4Ud2dR1rxL4w6MTY5OTU5MDY3NzQ1NDc5NDg2MQ">
						<div class="ui labeled button" data-tooltip-content="Sign in to watch this repository.">
							<button type="submit" class="ui compact small basic button" disabled>
								<svg viewBox="0 0 16 16" class="svg octicon-eye" width="16" height="16" aria-hidden="true"><path d="M8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.45.678-1.367 1.932-2.637 3.023C11.67 13.008 9.981 14 8 14c-1.981 0-3.671-.992-4.933-2.078C1.797 10.83.88 9.576.43 8.898a1.62 1.62 0 0 1 0-1.798c.45-.677 1.367-1.931 2.637-3.022C4.33 2.992 6.019 2 8 2ZM1.679 7.932a.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5c1.473 0 2.825-.742 3.955-1.715 1.124-.967 1.954-2.096 2.366-2.717a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5c-1.473 0-2.825.742-3.955 1.715-1.124.967-1.954 2.096-2.366 2.717ZM8 10a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 10Z"/></svg>Watch
							</button>
							<a class="ui basic label" href="/gsou/LCL/watchers">
								5
							</a>
						</div>
					</form>
					
						<form method="post" action="/gsou/LCL/action/star?redirect_to=%2fgsou%2fLCL">
							<input type="hidden" name="_csrf" value="8dlxw9yzs4QkNjB4Ud2dR1rxL4w6MTY5OTU5MDY3NzQ1NDc5NDg2MQ">
							<div class="ui labeled button" data-tooltip-content="Sign in to star this repository.">
								<button type="submit" class="ui compact small basic button" disabled>
									<svg viewBox="0 0 16 16" class="svg octicon-star" width="16" height="16" aria-hidden="true"><path d="M8 .25a.75.75 0 0 1 .673.418l1.882 3.815 4.21.612a.75.75 0 0 1 .416 1.279l-3.046 2.97.719 4.192a.751.751 0 0 1-1.088.791L8 12.347l-3.766 1.98a.75.75 0 0 1-1.088-.79l.72-4.194L.818 6.374a.75.75 0 0 1 .416-1.28l4.21-.611L7.327.668A.75.75 0 0 1 8 .25Zm0 2.445L6.615 5.5a.75.75 0 0 1-.564.41l-3.097.45 2.24 2.184a.75.75 0 0 1 .216.664l-.528 3.084 2.769-1.456a.75.75 0 0 1 .698 0l2.77 1.456-.53-3.084a.75.75 0 0 1 .216-.664l2.24-2.183-3.096-.45a.75.75 0 0 1-.564-.41L8 2.694Z"/></svg>Star
								</button>
								<a class="ui basic label" href="/gsou/LCL/stars">
									12
								</a>
							</div>
						</form>
					
					
						<div class="ui labeled button
							
								disabled
							"
							
								data-tooltip-content="Sign in to fork this repository."
							
						>
							<a class="ui compact small basic button"
								
									
								
							>
								<svg viewBox="0 0 16 16" class="svg octicon-repo-forked" width="16" height="16" aria-hidden="true"><path d="M5 5.372v.878c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75v-.878a2.25 2.25 0 1 1 1.5 0v.878a2.25 2.25 0 0 1-2.25 2.25h-1.5v2.128a2.251 2.251 0 1 1-1.5 0V8.5h-1.5A2.25 2.25 0 0 1 3.5 6.25v-.878a2.25 2.25 0 1 1 1.5 0ZM5 3.25a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Zm6.75.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm-3 8.75a.75.75 0 1 0-1.5 0 .75.75 0 0 0 1.5 0Z"/></svg>Fork
							</a>
							<div class="ui small modal" id="fork-repo-modal">
								<div class="header">
									You&#39;ve already forked LCL
								</div>
								<div class="content gt-text-left">
									<div class="ui list">
										
									</div>
									
								</div>
							</div>
							<a class="ui basic label" href="/gsou/LCL/forks">
								1
							</a>
						</div>
					
				</div>
			
		</div>
	</div>

	<div class="ui tabs container">
		
			<div class="ui tabular menu navbar gt-overflow-x-auto gt-overflow-y-hidden">
				
				<a class="active item" href="/gsou/LCL">
					<svg viewBox="0 0 16 16" class="svg octicon-code" width="16" height="16" aria-hidden="true"><path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"/></svg> Code
				</a>
				

				
					<a class="item" href="/gsou/LCL/issues">
						<svg viewBox="0 0 16 16" class="svg octicon-issue-opened" width="16" height="16" aria-hidden="true"><path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM1.5 8a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0Z"/></svg> Issues
						
					</a>
				

				

				
					<a class="item" href="/gsou/LCL/pulls">
						<svg viewBox="0 0 16 16" class="svg octicon-git-pull-request" width="16" height="16" aria-hidden="true"><path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"/></svg> Pull Requests
						
					</a>
				

				

				

				
					<a href="/gsou/LCL/projects" class="item">
						<svg viewBox="0 0 16 16" class="svg octicon-project" width="16" height="16" aria-hidden="true"><path d="M1.75 0h12.5C15.216 0 16 .784 16 1.75v12.5A1.75 1.75 0 0 1 14.25 16H1.75A1.75 1.75 0 0 1 0 14.25V1.75C0 .784.784 0 1.75 0ZM1.5 1.75v12.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V1.75a.25.25 0 0 0-.25-.25H1.75a.25.25 0 0 0-.25.25ZM11.75 3a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-1.5 0v-7.5a.75.75 0 0 1 .75-.75Zm-8.25.75a.75.75 0 0 1 1.5 0v5.5a.75.75 0 0 1-1.5 0ZM8 3a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 3Z"/></svg> Projects
						
					</a>
				

				
				<a class="item" href="/gsou/LCL/releases">
					<svg viewBox="0 0 16 16" class="svg octicon-tag" width="16" height="16" aria-hidden="true"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg> Releases
					
						<span class="ui small label">3</span>
					
				</a>
				

				
					<a class="item" href="/gsou/LCL/wiki">
						<svg viewBox="0 0 16 16" class="svg octicon-book" width="16" height="16" aria-hidden="true"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"/></svg> Wiki
					</a>
				

				

				
					<a class="item" href="/gsou/LCL/activity">
						<svg viewBox="0 0 16 16" class="svg octicon-pulse" width="16" height="16" aria-hidden="true"><path d="M6 2c.306 0 .582.187.696.471L10 10.731l1.304-3.26A.751.751 0 0 1 12 7h3.25a.75.75 0 0 1 0 1.5h-2.742l-1.812 4.528a.751.751 0 0 1-1.392 0L6 4.77 4.696 8.03A.75.75 0 0 1 4 8.5H.75a.75.75 0 0 1 0-1.5h2.742l1.812-4.529A.751.751 0 0 1 6 2Z"/></svg> Activity
					</a>
				

				

				
			</div>
		
	</div>
	<div class="ui tabs divider"></div>
</div>

	<div class="ui container ">
		




		
		<div class="ui repo-description">
			<div id="repo-desc">
				
				<span class="description">Lua Common Lisp. An implementation of Common Lisp targeting Lua.</span>
				<a class="link" href=""></a>
			</div>
			
		</div>
		<div class="gt-df gt-ac gt-fw gt-mt-3" id="repo-topics">
			
			
			
		</div>
		
		

		










		
		
<div class="ui segments repository-summary repository-summary-language-stats gt-mt-2 gt-mb-0">
	<div class="ui segment sub-menu repository-menu">
		<div class="ui two horizontal center list">
			
				<div class="item">
					<a href="/gsou/LCL/commits/branch/main"><svg viewBox="0 0 16 16" class="svg octicon-history" width="16" height="16" aria-hidden="true"><path d="m.427 1.927 1.215 1.215a8.002 8.002 0 1 1-1.6 5.685.75.75 0 1 1 1.493-.154 6.5 6.5 0 1 0 1.18-4.458l1.358 1.358A.25.25 0 0 1 3.896 6H.25A.25.25 0 0 1 0 5.75V2.104a.25.25 0 0 1 .427-.177ZM7.75 4a.75.75 0 0 1 .75.75v2.992l2.028.812a.75.75 0 0 1-.557 1.392l-2.5-1A.751.751 0 0 1 7 8.25v-3.5A.75.75 0 0 1 7.75 4Z"/></svg> <b>307</b> Commits</a>
				</div>
				<div class="item">
					<a href="/gsou/LCL/branches"><svg viewBox="0 0 16 16" class="svg octicon-git-branch" width="16" height="16" aria-hidden="true"><path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"/></svg> <b>2</b> Branches</a>
				</div>
				
					<div class="item">
						<a href="/gsou/LCL/tags"><svg viewBox="0 0 16 16" class="svg octicon-tag" width="16" height="16" aria-hidden="true"><path d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"/></svg> <b>3</b> Tags</a>
					</div>
				
				<div class="item">
					
					
					<span><svg viewBox="0 0 16 16" class="svg octicon-database" width="16" height="16" aria-hidden="true"><path d="M1 3.5c0-.626.292-1.165.7-1.59.406-.422.956-.767 1.579-1.041C4.525.32 6.195 0 8 0c1.805 0 3.475.32 4.722.869.622.274 1.172.62 1.578 1.04.408.426.7.965.7 1.591v9c0 .626-.292 1.165-.7 1.59-.406.422-.956.767-1.579 1.041C11.476 15.68 9.806 16 8 16c-1.805 0-3.475-.32-4.721-.869-.623-.274-1.173-.62-1.579-1.04-.408-.426-.7-.965-.7-1.591Zm1.5 0c0 .133.058.318.282.551.227.237.591.483 1.101.707C4.898 5.205 6.353 5.5 8 5.5c1.646 0 3.101-.295 4.118-.742.508-.224.873-.471 1.1-.708.224-.232.282-.417.282-.55 0-.133-.058-.318-.282-.551-.227-.237-.591-.483-1.101-.707C11.102 1.795 9.647 1.5 8 1.5c-1.646 0-3.101.295-4.118.742-.508.224-.873.471-1.1.708-.224.232-.282.417-.282.55Zm0 4.5c0 .133.058.318.282.551.227.237.591.483 1.101.707C4.898 9.705 6.353 10 8 10c1.646 0 3.101-.295 4.118-.742.508-.224.873-.471 1.1-.708.224-.232.282-.417.282-.55V5.724c-.241.15-.503.286-.778.407C11.475 6.68 9.805 7 8 7c-1.805 0-3.475-.32-4.721-.869a6.15 6.15 0 0 1-.779-.407Zm0 2.225V12.5c0 .133.058.318.282.55.227.237.592.484 1.1.708 1.016.447 2.471.742 4.118.742 1.647 0 3.102-.295 4.117-.742.51-.224.874-.47 1.101-.707.224-.233.282-.418.282-.551v-2.275c-.241.15-.503.285-.778.406-1.247.549-2.917.869-4.722.869-1.805 0-3.475-.32-4.721-.869a6.327 6.327 0 0 1-.779-.406Z"/></svg> <b>780</b> KiB</span>
				</div>
			
		</div>
	</div>
	
	<div class="ui segment sub-menu language-stats-details gt-hidden">
		<div class="ui horizontal center list">
			
			<div class="item gt-df gt-ac gt-jc">
				<i class="color-icon gt-mr-3" style="background-color: #3fb68b"></i>
				<span class="gt-font-semibold gt-mr-3">
					
						Common Lisp
					
				</span>
				93.5%
			</div>
			
			<div class="item gt-df gt-ac gt-jc">
				<i class="color-icon gt-mr-3" style="background-color: #000080"></i>
				<span class="gt-font-semibold gt-mr-3">
					
						Lua
					
				</span>
				6%
			</div>
			
			<div class="item gt-df gt-ac gt-jc">
				<i class="color-icon gt-mr-3" style="background-color: #89e051"></i>
				<span class="gt-font-semibold gt-mr-3">
					
						Shell
					
				</span>
				0.5%
			</div>
			
		</div>
	</div>
	<a class="ui segment language-stats">
		
		<div class="bar" style="width: 93.5%; background-color: #3fb68b" data-tooltip-placement="top" data-tooltip-content=Common&#32;Lisp>&nbsp;</div>
		
		<div class="bar" style="width: 6%; background-color: #000080" data-tooltip-placement="top" data-tooltip-content=Lua>&nbsp;</div>
		
		<div class="bar" style="width: 0.5%; background-color: #89e051" data-tooltip-placement="top" data-tooltip-content=Shell>&nbsp;</div>
		
	</a>
	
</div>


		<div class="repo-button-row">
			<div class="gt-df gt-ac gt-fw gt-gap-y-3">
				






	




<script type="module">
	const data = {
		'textReleaseCompare': "Compare",
		'textCreateTag': "Create tag \u003cstrong\u003e%s\u003c/strong\u003e",
		'textCreateBranch': "Create branch \u003cstrong\u003e%s\u003c/strong\u003e",
		'textCreateBranchFrom': "from \"%s\"",
		'textBranches': "Branches",
		'textTags': "Tags",

		'mode': 'branches',
		'showBranchesInDropdown':  true ,
		'searchFieldPlaceholder': 'Filter branch or tag...',
		'branchForm':  null ,
		'disableCreateBranch':  true ,
		'setAction':  null ,
		'submitForm':  null ,
		'viewType': "branch",
		'refName': "main",
		'commitIdShort': "c11ad3a835",
		'tagName': "",
		'branchName': "main",
		'noTag':  null ,
		'branches': ["main","mv"],
		'tags': ["v0.5","v0.4","v0.3"],
		'defaultBranch': "main",
		'enableFeed':  true ,
		'rssURLPrefix': '\/gsou\/LCL/rss/branch/',
		'branchURLPrefix': '\/gsou\/LCL/src/branch/',
		'branchURLSuffix': '',
		'tagURLPrefix': '\/gsou\/LCL/src/tag/',
		'tagURLSuffix': '',
		'repoLink': "/gsou/LCL",
		'treePath': "",
		'branchNameSubURL': "branch/main",
		'noResults': "No results found.",
	};
	
	window.config.pageData.branchDropdownDataList = window.config.pageData.branchDropdownDataList || [];
	window.config.pageData.branchDropdownDataList.push(data);
</script>

<div class="js-branch-tag-selector gt-mr-2">
	
	<div class="ui floating filter dropdown custom">
		<button class="branch-dropdown-button gt-ellipsis ui basic small compact button gt-df gt-m-0">
			<span class="text gt-df gt-ac gt-mr-2">
				
					
						<svg viewBox="0 0 16 16" class="svg octicon-git-branch" width="16" height="16" aria-hidden="true"><path d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"/></svg>
					
					<strong ref="dropdownRefName" class="gt-ml-3">main</strong>
				
			</span>
			<svg viewBox="0 0 16 16" class="dropdown icon svg octicon-triangle-down" width="14" height="14" aria-hidden="true"><path d="m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"/></svg>
		</button>
	</div>
</div>

				
					
					
					
					
					<a id="new-pull-request" role="button" class="ui compact basic button" href="/gsou/LCL/compare/main...main"
						data-tooltip-content="Compare">
						<svg viewBox="0 0 16 16" class="svg octicon-git-pull-request" width="16" height="16" aria-hidden="true"><path d="M1.5 3.25a2.25 2.25 0 1 1 3 2.122v5.256a2.251 2.251 0 1 1-1.5 0V5.372A2.25 2.25 0 0 1 1.5 3.25Zm5.677-.177L9.573.677A.25.25 0 0 1 10 .854V2.5h1A2.5 2.5 0 0 1 13.5 5v5.628a2.251 2.251 0 1 1-1.5 0V5a1 1 0 0 0-1-1h-1v1.646a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm0 9.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm8.25.75a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Z"/></svg>
					</a>
				
				
				
				
				
					<a href="/gsou/LCL/find/branch/main" class="ui compact basic button">Go to file</a>
				

				

				
				
			</div>
			<div class="gt-df gt-ac">
				
				
					<div class="ui action tiny input" id="clone-panel">
						

	<button class="ui small compact clone button gt-no-transition" id="repo-clone-https" data-link="https://codeberg.org/gsou/LCL.git">
		HTTPS
	</button>


<input id="repo-clone-url" size="20" class="js-clone-url" value="https://codeberg.org/gsou/LCL.git" readonly>
<button class="ui basic small compact icon button" id="clipboard-btn" data-tooltip-content="Copy URL" data-clipboard-target="#repo-clone-url" aria-label="Copy URL">
	<svg viewBox="0 0 16 16" class="svg octicon-copy" width="14" height="14" aria-hidden="true"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg>
</button>

						<button id="more-btn" class="ui basic small compact jump dropdown icon button" data-tooltip-content="More Operations">
							<svg viewBox="0 0 16 16" class="svg octicon-kebab-horizontal" width="16" height="16" aria-hidden="true"><path d="M8 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM1.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm13 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/></svg>
							<div class="menu">
								
									<a class="item archive-link" href="/gsou/LCL/archive/main.zip" rel="nofollow"><svg viewBox="0 0 16 16" class="gt-mr-3 svg octicon-file-zip" width="16" height="16" aria-hidden="true"><path d="M3.5 1.75v11.5c0 .09.048.173.126.217a.75.75 0 0 1-.752 1.298A1.748 1.748 0 0 1 2 13.25V1.75C2 .784 2.784 0 3.75 0h5.586c.464 0 .909.185 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 12.25 15h-.5a.75.75 0 0 1 0-1.5h.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177L9.513 1.573a.25.25 0 0 0-.177-.073H7.25a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5h-3a.25.25 0 0 0-.25.25Zm3.75 8.75h.5c.966 0 1.75.784 1.75 1.75v3a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1-.75-.75v-3c0-.966.784-1.75 1.75-1.75ZM6 5.25a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 6 5.25Zm.75 2.25h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM8 6.75A.75.75 0 0 1 8.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 8 6.75ZM8.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM8 9.75A.75.75 0 0 1 8.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 8 9.75Zm-1 2.5v2.25h1v-2.25a.25.25 0 0 0-.25-.25h-.5a.25.25 0 0 0-.25.25Z"/></svg>Download ZIP</a>
									<a class="item archive-link" href="/gsou/LCL/archive/main.tar.gz" rel="nofollow"><svg viewBox="0 0 16 16" class="gt-mr-3 svg octicon-file-zip" width="16" height="16" aria-hidden="true"><path d="M3.5 1.75v11.5c0 .09.048.173.126.217a.75.75 0 0 1-.752 1.298A1.748 1.748 0 0 1 2 13.25V1.75C2 .784 2.784 0 3.75 0h5.586c.464 0 .909.185 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v8.586A1.75 1.75 0 0 1 12.25 15h-.5a.75.75 0 0 1 0-1.5h.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177L9.513 1.573a.25.25 0 0 0-.177-.073H7.25a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5h-3a.25.25 0 0 0-.25.25Zm3.75 8.75h.5c.966 0 1.75.784 1.75 1.75v3a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1-.75-.75v-3c0-.966.784-1.75 1.75-1.75ZM6 5.25a.75.75 0 0 1 .75-.75h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 6 5.25Zm.75 2.25h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM8 6.75A.75.75 0 0 1 8.75 6h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 8 6.75ZM8.75 3h.5a.75.75 0 0 1 0 1.5h-.5a.75.75 0 0 1 0-1.5ZM8 9.75A.75.75 0 0 1 8.75 9h.5a.75.75 0 0 1 0 1.5h-.5A.75.75 0 0 1 8 9.75Zm-1 2.5v2.25h1v-2.25a.25.25 0 0 0-.25-.25h-.5a.25.25 0 0 0-.25.25Z"/></svg>Download TAR.GZ</a>
									<a class="item archive-link" href="/gsou/LCL/archive/main.bundle" rel="nofollow"><svg viewBox="0 0 16 16" class="gt-mr-3 svg octicon-package" width="16" height="16" aria-hidden="true"><path d="m8.878.392 5.25 3.045c.54.314.872.89.872 1.514v6.098a1.75 1.75 0 0 1-.872 1.514l-5.25 3.045a1.75 1.75 0 0 1-1.756 0l-5.25-3.045A1.75 1.75 0 0 1 1 11.049V4.951c0-.624.332-1.201.872-1.514L7.122.392a1.75 1.75 0 0 1 1.756 0ZM7.875 1.69l-4.63 2.685L8 7.133l4.755-2.758-4.63-2.685a.248.248 0 0 0-.25 0ZM2.5 5.677v5.372c0 .09.047.171.125.216l4.625 2.683V8.432Zm6.25 8.271 4.625-2.683a.25.25 0 0 0 .125-.216V5.677L8.75 8.432Z"/></svg>Download BUNDLE</a>
									
								
								<a class="item js-clone-url-vsc" href="vscode://vscode.git/clone?url=https%3a%2f%2fcodeberg.org%2fgsou%2fLCL.git"><svg viewBox="-1 -1 34 34" class="gt-mr-3 svg gitea-vscode" width="16" height="16" aria-hidden="true"><path d="M30.9 3.4 24.3.3a2 2 0 0 0-2.3.4L9.4 12.2 3.9 8c-.5-.4-1.2-.4-1.7 0L.4 9.8c-.5.5-.5 1.4 0 2L5.2 16 .4 20.3c-.5.6-.5 1.5 0 2L2.2 24c.5.5 1.2.5 1.7 0l5.5-4L22 31.2a2 2 0 0 0 2.3.4l6.6-3.2a2 2 0 0 0 1.1-1.8V5.2a2 2 0 0 0-1.1-1.8zM24 23.3 14.4 16 24 8.7z"/></svg>Clone in VS Code</a>
							</div>
						</button>
						<script>
	
	
	
	
	
	
	(window.updateCloneStates = function() {
		const httpsBtn = document.getElementById('repo-clone-https');
		const sshBtn = document.getElementById('repo-clone-ssh');
		const value = localStorage.getItem('repo-clone-protocol') || 'https';
		const isSSH = value === 'ssh' && sshBtn || value !== 'ssh' && !httpsBtn;

		if (httpsBtn) {
			httpsBtn.textContent = window.origin.split(':')[0].toUpperCase();
			httpsBtn.classList.toggle('primary', !isSSH);
			httpsBtn.classList.toggle('basic', isSSH);
		}
		if (sshBtn) {
			sshBtn.classList.toggle('primary', isSSH);
			sshBtn.classList.toggle('basic', !isSSH);
		}

		const btn = isSSH ? sshBtn : httpsBtn;
		if (!btn) return;

		let link = btn.getAttribute('data-link');
		if (link.startsWith('http://') || link.startsWith('https://')) {
			
			const url = new URL(link);
			url.protocol = window.location.protocol;
			url.host = window.location.host;
			link = url.toString();
		}
		for (const el of document.getElementsByClassName('js-clone-url')) {
			el[el.nodeName === 'INPUT' ? 'value' : 'textContent'] = link;
		}
		for (const el of document.getElementsByClassName('js-clone-url-vsc')) {
			el['href'] = 'vscode://vscode.git/clone?url=' + encodeURIComponent(link);
		}
	})();
</script>

					</div>
					<div class="ui tiny modal" id="cite-repo-modal">
	<div class="header">
		Cite this repository
	</div>
	<div class="content">
		<div class="ui stackable secondary menu">
			<div class="fitted item">
				<div class="ui action input" id="citation-panel">
					<button class="ui basic citation button" id="citation-copy-apa" data-text="">
APA
</button>
<button class="ui basic citation button" id="citation-copy-bibtex" data-text="">
BibTeX
</button>

<input id="citation-copy-content" value="" size="1" readonly>
<button class="ui basic icon button" id="citation-clipboard-btn" data-tooltip-content="Copy" data-clipboard-text="" data-clipboard-target="#citation-copy-content">
	<svg viewBox="0 0 16 16" class="svg octicon-copy" width="16" height="16" aria-hidden="true"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg>
</button>

					<a id="goto-citation-btn" class="ui basic jump icon button" href="/gsou/LCL/src/main/CITATION.cff" data-tooltip-content="Go to file">
						<svg viewBox="0 0 16 16" class="svg octicon-file-moved" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-3.5a.75.75 0 0 1 0-1.5h3.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073H3.75a.25.25 0 0 0-.25.25v6.5a.75.75 0 0 1-1.5 0v-6.5Z"/><path d="m5.427 15.573 3.146-3.146a.25.25 0 0 0 0-.354L5.427 8.927A.25.25 0 0 0 5 9.104V11.5H.75a.75.75 0 0 0 0 1.5H5v2.396c0 .223.27.335.427.177Z"/></svg>
					</a>
				</div>
			</div>
		</div>
	</div>
	<div class="actions">
		<button class="ui cancel button">
			Cancel
		</button>
	</div>
</div>

				
				
			</div>
		</div>
		
			<table id="repo-files-table" class="ui single line table gt-mt-0" data-last-commit-loader-url="/gsou/LCL/lastcommit/c11ad3a8354afe6d782ff3d523d8703fc4da1183/">
	<thead>
		<tr class="commit-list">
			<th colspan="2" >
				
					
						<img class="ui avatar gt-vm" src="/avatars/947df15c5dc08e5fdd36d184ad0015c5?size=48" title="gsou" width="24" height="24"/>
						
							<a class="muted author-wrapper" title="gsou" href="/gsou"><strong>gsou</strong></a>
						
					
					<a rel="nofollow" class="ui sha label " href="/gsou/LCL/commit/c11ad3a8354afe6d782ff3d523d8703fc4da1183">
						<span class="shortsha">c11ad3a835</span>
						
					</a>
					

					
					<span class="grey commit-summary" title="Random"><span class="message-wrapper"><a href="/gsou/LCL/commit/c11ad3a8354afe6d782ff3d523d8703fc4da1183" class="default-link muted">Random</a></span>
						
					</span>
				
			</th>
			<th class="text grey right age"><relative-time class="time-since" prefix="" tense="past" datetime="2023-08-31T18:04:04-04:00" data-tooltip-content data-tooltip-interactive="true">2023-08-31 18:04:04 -04:00</relative-time></th>
		</tr>
	</thead>
	<tbody>
		
		
			
			
			
			<tr data-entryname="boot" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								
								<svg viewBox="0 0 16 16" class="svg octicon-file-directory-fill" width="16" height="16" aria-hidden="true"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/boot" title="boot">
									
									
									
										boot
									
								</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/e0577ec992855a9ea16430dde746292b0af60b35" class="default-link muted">Compile conditions only on last bootstrap pass</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-08-30T23:23:30-04:00" data-tooltip-content data-tooltip-interactive="true">2023-08-30 23:23:30 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="clos" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								
								<svg viewBox="0 0 16 16" class="svg octicon-file-directory-fill" width="16" height="16" aria-hidden="true"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/clos" title="clos">
									
									
									
										clos
									
								</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/4e8f4be7cc3c8fa642f89cfe19ec675d687dd498" class="default-link muted">Better support for (setf functionname)</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-02-18T17:51:30-05:00" data-tooltip-content data-tooltip-interactive="true">2023-02-18 17:51:30 -05:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="ext" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								
								<svg viewBox="0 0 16 16" class="svg octicon-file-directory-fill" width="16" height="16" aria-hidden="true"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/ext" title="ext">
									
									
									
										ext
									
								</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/54c1901f04e605bd05581b4de2d9b30be501ae4e" class="default-link muted">Basic additionnal support for some common loop macro uses</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-07-08T14:45:05-04:00" data-tooltip-content data-tooltip-interactive="true">2023-07-08 14:45:05 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="stdlib" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								
								<svg viewBox="0 0 16 16" class="svg octicon-file-directory-fill" width="16" height="16" aria-hidden="true"><path d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/stdlib" title="stdlib">
									
									
									
										stdlib
									
								</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/c11ad3a8354afe6d782ff3d523d8703fc4da1183" class="default-link muted">Random</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-08-31T18:04:04-04:00" data-tooltip-content data-tooltip-interactive="true">2023-08-31 18:04:04 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname=".gitignore" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/.gitignore" title=".gitignore">.gitignore</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/0590e0e64733d2924e604d22f9a19aa17ee12d53" class="default-link muted">light optimization, local nil and id fn</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-07-07T19:27:06-04:00" data-tooltip-content data-tooltip-interactive="true">2023-07-07 19:27:06 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="LICENSE" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/LICENSE" title="LICENSE">LICENSE</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/4b178384c1e5ae0b63481465984a3271f49cfbb7" class="default-link muted">update documentation for 0.5 release</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-07-08T17:01:47-04:00" data-tooltip-content data-tooltip-interactive="true">2023-07-08 17:01:47 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="LICENSE.lua" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/LICENSE.lua" title="LICENSE.lua">LICENSE.lua</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/4b178384c1e5ae0b63481465984a3271f49cfbb7" class="default-link muted">update documentation for 0.5 release</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-07-08T17:01:47-04:00" data-tooltip-content data-tooltip-interactive="true">2023-07-08 17:01:47 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="README.org" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/README.org" title="README.org">README.org</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/4b178384c1e5ae0b63481465984a3271f49cfbb7" class="default-link muted">update documentation for 0.5 release</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-07-08T17:01:47-04:00" data-tooltip-content data-tooltip-interactive="true">2023-07-08 17:01:47 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="assemble-ext.sh" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/assemble-ext.sh" title="assemble-ext.sh">assemble-ext.sh</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/f2ff96c75341744ca3bb426b478bed069e688161" class="default-link muted">Add singlefile repl output</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-07-07T19:28:00-04:00" data-tooltip-content data-tooltip-interactive="true">2023-07-07 19:28:00 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="assemble.sh" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/assemble.sh" title="assemble.sh">assemble.sh</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/7c522f0e29d9804b8e807b8dadca49a2d6b66777" class="default-link muted">Add some system functions</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-01-14T00:27:41-05:00" data-tooltip-content data-tooltip-interactive="true">2023-01-14 00:27:41 -05:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="build.sh" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/build.sh" title="build.sh">build.sh</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/28f89ab7e6d1b3b4170e02c62247ec0e634beeb0" class="default-link muted">Add condition and other external components</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2022-07-13T14:39:03-04:00" data-tooltip-content data-tooltip-interactive="true">2022-07-13 14:39:03 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="lcl_lib.lua" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/lcl_lib.lua" title="lcl_lib.lua">lcl_lib.lua</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/205699261d3bed597172762d42e5c73fd99add9d" class="default-link muted">Better read number</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2023-08-30T23:23:25-04:00" data-tooltip-content data-tooltip-interactive="true">2023-08-30 23:23:25 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="lclmain.lua" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/lclmain.lua" title="lclmain.lua">lclmain.lua</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/005f0a141b89b98ee3a34f7c299478ef1aaa1ce2" class="default-link muted">Push the luamain.lua script to easily start a simple repl</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2022-07-05T14:20:30-04:00" data-tooltip-content data-tooltip-interactive="true">2022-07-05 14:20:30 -04:00</relative-time></td>
			</tr>
		
			
			
			
			<tr data-entryname="rebuild.sh" data-ready="true" class="ready entry">
				<td class="name four wide">
					<span class="truncate">
						
							
								<svg viewBox="0 0 16 16" class="svg octicon-file" width="16" height="16" aria-hidden="true"><path d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/></svg>
								<a class="muted" href="/gsou/LCL/src/branch/main/rebuild.sh" title="rebuild.sh">rebuild.sh</a>
							
						
					</span>
				</td>
				<td class="message nine wide">
					<span class="truncate">
						
							
							<a href="/gsou/LCL/commit/22192477615d9f7117653637f11c9efd1df07eca" class="default-link muted">Integrate closette</a>
						
					</span>
				</td>
				<td class="text right age three wide"><relative-time class="time-since" prefix="" tense="past" datetime="2022-07-12T18:32:51-04:00" data-tooltip-content data-tooltip-interactive="true">2022-07-12 18:32:51 -04:00</relative-time></td>
			</tr>
		
	</tbody>
</table>

	<div class="tab-size-8 non-diff-file-content">
	<h4 class="file-header ui top attached header gt-df gt-ac gt-sb gt-fw">
		<div class="file-header-left gt-df gt-ac gt-py-3 gt-pr-4">
			
				<svg viewBox="0 0 16 16" class="gt-mr-3 svg octicon-book" width="16" height="16" aria-hidden="true"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.743 3.743 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574ZM8.755 4.75l-.004 7.322a3.752 3.752 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25Z"/></svg>
				<strong>README.org</strong>
			
		</div>
		<div class="file-header-right file-actions gt-df gt-ac gt-fw">
			
			
		</div>
	</h4>
	<div class="ui attached table unstackable segment">
		
		<div class="file-view markup orgmode">
			
				
<ul>
<li><a href="#user-content-headline-1" rel="nofollow">Getting started</a>
</li>
<li><a href="#user-content-headline-2" rel="nofollow">Incompatibilities with Common Lisp</a>
</li>
<li><a href="#user-content-headline-3" rel="nofollow">Bootstrapping process</a>
</li>
<li><a href="#user-content-headline-4" rel="nofollow">LCL interaction with Lua</a>
<ul>
<li><a href="#user-content-headline-5" rel="nofollow">Lua LCL API</a>
</li>
<li><a href="#user-content-headline-6" rel="nofollow">LCL Lua API</a>
<ul>
<li><a href="#user-content-headline-7" rel="nofollow"><code>(lua &amp;rest forms)</code></a>
</li>
<li><a href="#user-content-headline-8" rel="nofollow"><code>(lua-push (&amp;rest pushed-forms) expr)</code></a>
</li>
</ul>
</li>
<li><a href="#user-content-headline-9" rel="nofollow">LCL Datatypes</a>
<ul>
<li><a href="#user-content-headline-10" rel="nofollow">Symbols</a>
</li>
<li><a href="#user-content-headline-11" rel="nofollow">Lists</a>
</li>
<li><a href="#user-content-headline-12" rel="nofollow">Numbers</a>
</li>
<li><a href="#user-content-headline-13" rel="nofollow">Chars</a>
</li>
<li><a href="#user-content-headline-14" rel="nofollow">Strings</a>
</li>
<li><a href="#user-content-headline-15" rel="nofollow">Arrays</a>
</li>
<li><a href="#user-content-headline-16" rel="nofollow">Hash-Tables</a>
</li>
<li><a href="#user-content-headline-17" rel="nofollow">Structs</a>
</li>
<li><a href="#user-content-headline-18" rel="nofollow">Functions</a>
</li>
<li><a href="#user-content-headline-19" rel="nofollow">Macros</a>
</li>
<li><a href="#user-content-headline-20" rel="nofollow">Packages</a>
</li>
</ul>
</li>
<li><a href="#user-content-headline-21" rel="nofollow">LCL Calling Convention</a>
</li>
</ul>
</li>
</ul>

<p>
Lua Common Lisp is an implementation of Common Lisp targeting the Lua language. The goal of this project is to provide an implementation of Common Lisp that can be used wherever an unmodified Lua VM is running.</p>
<p>
LCL is being tested on <code>Lua 5.4.4</code> and <code>LuaJIT 2.1.0-beta3</code>.</p>
<p>
LCL is <em>not</em> a Common Lisp to Lua compiler. LCL <em>has</em> a Common Lisp to Lua compiler. LCL is an implementation of Common Lisp that happens to be running on Lua.</p>
<div id="user-content-outline-container-headline-1">
<h2 id="user-content-headline-1">
Getting started
</h2>
<div id="user-content-outline-text-headline-1">
<p>
Download <code>lcl.lua</code> from the releases.</p>
<p>
Load <code>lcl.lua</code> in your Lua implementation:</p>
<div>
<pre><code class="chroma language-sh">lua -i lcl.lua
luajit -i lcl.lua</code></pre>
</div>
<p>
And in Lua, run Common Lisp code:</p>
<div>
<pre><code class="chroma language-lua"><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;(compile-file #P&#34;lisp-code.lisp&#34;)&#39;</span><span class="p">)</span>
<span class="n">eval</span><span class="p">(</span><span class="s2">&#34;(mapcar (lambda (x y) (* x (+ y 2))) &#39;(1 2 3) &#39;(#C(0.5 0.5) 17 82.5))&#39;&#34;</span><span class="p">)</span></code></pre>
</div>
<p>
A lisp repl in <code>lcl-repl.lua</code> is provided from version 0.5.</p>
<div>
<pre><code class="chroma language-sh">rlwrap luajit -i lcl-repl.lua</code></pre>
</div>
</div>
</div>
<div id="user-content-outline-container-headline-2">
<h2 id="user-content-headline-2">
Incompatibilities with Common Lisp
</h2>
<div id="user-content-outline-text-headline-2">
<p>
LCL is currently being developped and is not a complete Common Lisp implementation.</p>
<p>
Most functions and macros still work differently than specified by the standard or are currently missing or incomplete. The main missing features are:</p>
<ul>
<li>No <code>bignum</code></li>
<li>No pretty printer</li>
</ul>
<p>Any incompatibilities are considered bugs.</p>
</div>
</div>
<div id="user-content-outline-container-headline-3">
<h2 id="user-content-headline-3">
Bootstrapping process
</h2>
<div id="user-content-outline-text-headline-3">
<p>
Running the <code>build.sh</code> script will bootstrap LCL. The bootstrap process is as follows:</p>
<ol>
<li>Compile every lisp file from the <code>stdlib</code> folder to lua from SBCL. As SBCL is not LCL, some lua optimizations are either not possible or inconvenient to perform and as such the <code>LCL</code> implementation produced by this step is slow.
The result of this step is the <code>lcl_sbcl.lua</code> file.</li>
<li>Compile every lisp file from the <code>stdlib</code> folder to lua from LCL (<code>lcl_sbcl.lua</code>) The results are aggregated into the <code>lcl.lua</code> file.</li>
<li>Recompile <code>lcl.lua</code> using itself.</li>
<li>Recompile <code>lcl.lua</code> using itself, along with the extensions.</li>
</ol>
<p>Note that bootstrapping is not required to compile LCL, as the already compiled <code>lcl.lua</code> file is available from the releases.</p>
<p>
To compile LCL from LCL:</p>
<div>
<pre><code class="chroma language-lua"><span class="c1">-- Load LCL produced LCL</span>
<span class="n">dofile</span><span class="p">(</span><span class="s2">&#34;lcl.lua&#34;</span><span class="p">)</span>
<span class="c1">-- Compile all stdlib files</span>
<span class="n">eval</span><span class="p">(</span><span class="s1">&#39;(load &#34;boot/lcl-bootstrap.lisp&#34;)&#39;</span><span class="p">)</span></code></pre>
</div>
<p>
And collect the lua files:</p>
<div>
<pre><code class="chroma language-bash">./assemble_ext.sh</code></pre>
</div>
</div>
</div>
<div id="user-content-outline-container-headline-4">
<h2 id="user-content-headline-4">
LCL interaction with Lua
</h2>
<div id="user-content-outline-text-headline-4">
<div id="user-content-outline-container-headline-5">
<h3 id="user-content-headline-5">
Lua LCL API
</h3>
<div id="user-content-outline-text-headline-5">
<p>
After loading <code>lcl.lua</code>, the Lua VM is ready to run Common Lisp code. To do that, the lisp functions can be directly called by Lua or by the host application by following the <a href="/gsou/LCL/src/branch/main/%2ALCL%20Calling%20Convention" title="calling convention" rel="nofollow">calling convention</a>.</p>
<p>
Note that the symbol metatable provides a <code>__call</code> metamethod so symbols can be called directly.</p>
<p>
For instance, to read a form from a string, the lisp function <code>read-from-string</code> is used. It is located in the <code>COMMON-LISP</code> package. It can be accessed by: <code>LCL[&#39;COMMON-LISP&#39;][&#39;READ-FROM-STRING&#39;]</code>, or with the shortcut <code>CL[&#39;READ-FROM-STRING&#39;]</code>. This function takes the string to read, two optional arguments and key arguments. If we want to omit any optional or key arguments, the function is called as follows:</p>
<div>
<pre><code class="chroma language-lua"><span class="n">read_from_string</span> <span class="o">=</span> <span class="n">CL</span><span class="p">[</span><span class="s1">&#39;READ-FROM-STRING&#39;</span><span class="p">](</span><span class="s2">&#34;read-from-string&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="p">{})</span></code></pre>
</div>
<p>
<code>read-from-string</code> returns a symbol. It is assigned to the Lua global <code>read_from_string</code> in the snippet above. Since symbols are callable, we could do:</p>
<div>
<pre><code class="chroma language-lua"><span class="n">CL.PRINT</span><span class="p">(</span><span class="n">read_from_string</span><span class="p">(</span><span class="s2">&#34;#C(0 1)&#34;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="p">{}))</span>
<span class="c1">-- Prints: #C(0 1)</span></code></pre>
</div>
<p>
Or we could just use <code>cl:funcall</code> if we don&#39;t wan&#39;t to care about the <a href="/gsou/LCL/src/branch/main/%2ALCL%20Calling%20Convention" title="calling convention" rel="nofollow">calling convention</a>.</p>
<div>
<pre><code class="chroma language-lua"><span class="n">CL.PRINT</span><span class="p">(</span> <span class="n">CL.FUNCALL</span><span class="p">(</span> <span class="n">read_from_string</span><span class="p">,</span> <span class="n">l</span><span class="p">(</span> <span class="s2">&#34;#C(0 1)&#34;</span> <span class="p">)</span> <span class="p">)</span> <span class="p">)</span>
<span class="c1">-- Prints: #C(0 1)</span></code></pre>
</div>
<p>
The <code>read-from-string</code> function returns a Lisp list. The <code>eval</code> function evaluates a Lisp list. They can be used in the same way from Lua:</p>
<div>
<pre><code class="chroma language-lua"><span class="n">CL.PRINT</span><span class="p">(</span><span class="n">CL.EVAL</span><span class="p">(</span><span class="n">CL.FUNCALL</span><span class="p">(</span> <span class="n">CL</span><span class="p">[</span><span class="s1">&#39;READ-FROM-STRING&#39;</span><span class="p">],</span> <span class="n">l</span><span class="p">(</span><span class="s2">&#34;(reduce #&#39;cons &#39;(1 2 3 4) :from-end t)&#34;</span><span class="p">))))</span>
<span class="c1">-- Prints: (1 2 3 . 4)</span></code></pre>
</div>
<p>
The Lisp list could also be generated from Lua:</p>
<div>
<pre><code class="chroma language-lua"><span class="n">CL.PRINT</span><span class="p">(</span><span class="n">CL.EVAL</span><span class="p">(</span>
           <span class="n">l</span><span class="p">(</span><span class="n">CL.REDUCE</span><span class="p">,</span> <span class="n">l</span><span class="p">(</span><span class="n">CL.FUNCTION</span><span class="p">,</span> <span class="n">CL.CONS</span><span class="p">),</span> <span class="n">l</span><span class="p">(</span><span class="n">CL.QUOTE</span><span class="p">,</span> <span class="n">l</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)),</span> <span class="n">KEYWORD</span><span class="p">[</span><span class="s1">&#39;FROM-END&#39;</span><span class="p">],</span> <span class="n">CL.T</span><span class="p">)))</span>
<span class="c1">-- Prints: (1 2 3 . 4)</span>

<span class="c1">-- Or even</span>
<span class="n">CL.PRINT</span><span class="p">(</span><span class="n">CL.EVAL</span><span class="p">(</span>
           <span class="p">{</span><span class="n">CL.REDUCE</span><span class="p">,</span> <span class="p">{{</span><span class="n">CL.FUNCTION</span><span class="p">,</span> <span class="p">{</span><span class="n">CL.CONS</span><span class="p">,</span> <span class="n">CL.NIL</span><span class="p">}},</span> <span class="p">{</span> <span class="p">{</span><span class="n">CL.QUOTE</span><span class="p">,</span> <span class="p">{{</span><span class="mi">1</span><span class="p">,{</span><span class="mi">2</span><span class="p">,{</span><span class="mi">3</span><span class="p">,{</span><span class="mi">4</span><span class="p">,</span> <span class="n">CL.NIL</span><span class="p">}}}},</span> <span class="n">CL.NIL</span><span class="p">}},</span> <span class="p">{</span><span class="n">KEYWORD</span><span class="p">[</span><span class="s1">&#39;FROM-END&#39;</span><span class="p">],</span> <span class="p">{</span><span class="n">CL.T</span><span class="p">,</span> <span class="n">CL.NIL</span><span class="p">}}}}}))</span>
<span class="c1">-- Prints: (1 2 3 . 4)</span></code></pre>
</div>
<p>
The <code>load</code> and <code>compile-file</code> are ways to load Lisp code from files as in other Common Lisp implementations.</p>
<div>
<pre><code class="chroma language-lua"><span class="n">CL.EVAL</span><span class="p">(</span><span class="n">CL</span><span class="p">[</span><span class="s1">&#39;READ-FROM-STRING&#39;</span><span class="p">](</span><span class="s1">&#39;(compile-file #P&#34;lispcode.lisp&#34;)&#39;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="p">{}))</span>
<span class="n">CL.EVAL</span><span class="p">(</span><span class="n">CL</span><span class="p">[</span><span class="s1">&#39;READ-FROM-STRING&#39;</span><span class="p">](</span><span class="s1">&#39;(load #P&#34;lispcode.lisp&#34;)&#39;</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span><span class="p">,</span> <span class="p">{}))</span></code></pre>
</div>
<p>
Additionally, some Lua functions are included to easily call Common Lisp.</p>
<div>
<pre><code class="chroma language-lua"><span class="kr">function</span> <span class="nf">eval</span><span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="p">...</span> <span class="kr">end</span>
<span class="kr">function</span> <span class="nf">lclc</span><span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="p">...</span> <span class="kr">end</span>
<span class="kr">function</span> <span class="nf">read</span><span class="p">(</span><span class="n">str</span><span class="p">)</span> <span class="p">...</span> <span class="kr">end</span></code></pre>
</div>
<p>
These functions all take a string containing a Lisp form. If the argument is ommited, <code>cl:read</code> is called and a form is read from <code>stdin</code>.</p>
<p>
The function <code>read</code> reads the form and prints it.</p>
<p>
The function <code>lclc</code> reads the form, compile it to Lua and return a string containing the resulting Lua code.</p>
<p>
The function <code>eval</code> reads the form, evaluates it, and prints it. The result of the evaluation is returned.</p>
<div>
<pre><code class="chroma language-lua"><span class="n">eval</span><span class="p">()</span>
<span class="c1">-- From stdin: (reduce #&#39;cons &#39;(1 2 3 4) :from-end t)</span>
<span class="c1">-- Prints: (1 2 3 . 4)</span>
<span class="c1">-- Return a table containing the above list</span>

<span class="c1">-- Equivalent, without reading from stdin:</span>
<span class="n">eval</span><span class="p">(</span><span class="s2">&#34;(reduce #&#39;cons &#39;(1 2 3 4) :from-end t)&#34;</span><span class="p">)</span>

<span class="n">lclc</span><span class="p">(</span><span class="s2">&#34;(reduce #&#39;cons &#39;(1 2 3 4) :from-end t)&#34;</span><span class="p">)</span>
<span class="c1">-- Returns:  return CL[&#34;REDUCE&#34;](CL[&#34;CONS&#34;].fbound, {1,{2,{3,{4,CL[&#34;NIL&#34;]}}}},</span>
<span class="c1">--                               k(CL_LIB[&#34;FROM-END&#34;], CL[&#34;T&#34;].bound))</span>

<span class="n">read</span><span class="p">(</span><span class="s2">&#34;(reduce #&#39;cons &#39;(1 2 3 4) :from-end t)&#34;</span><span class="p">)</span>
<span class="c1">-- Prints: (REDUCE (FUNCTION CONS) (QUOTE (1 2 3 4)) :FROM-END T)</span>

<span class="n">read</span><span class="p">(</span><span class="s2">&#34;#.(reduce #&#39;cons &#39;(1 2 3 4) :from-end t)&#34;</span><span class="p">)</span>
<span class="c1">-- Prints: (1 2 3 . 4)</span></code></pre>
</div>
</div>
</div>
<div id="user-content-outline-container-headline-6">
<h3 id="user-content-headline-6">
LCL Lua API
</h3>
<div id="user-content-outline-text-headline-6">
<p>
Two additional special forms are provided to directly generate lua code from LCL.</p>
<p>
Multiple macros to manipulate Lua objects are also defined in <code>stdlib/native.lisp</code></p>
<div id="user-content-outline-container-headline-7">
<h4 id="user-content-headline-7">
<code>(lua &amp;rest forms)</code>
</h4>
<div id="user-content-outline-text-headline-7">
<p>
The forms are compiled to lua and then concatenated. The exception is for any string element in <code>forms</code>, which is directly considered Lua code.</p>
<p>
Here are a few examples:</p>
<div>
<pre><code class="chroma language-lisp"><span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nc">list</span> <span class="o">&#39;</span><span class="p">(</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">)))</span> <span class="p">(</span><span class="nv">lua</span> <span class="nc">list</span> <span class="s">&#34;[1]&#34;</span><span class="p">))</span></code></pre>
</div>
<div>
<pre><code class="chroma language-lua"><span class="kd">local</span> <span class="n">l1</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,{</span><span class="mi">2</span><span class="p">,{</span><span class="mi">3</span><span class="p">,</span><span class="n">CL</span><span class="p">[</span><span class="s2">&#34;NIL&#34;</span><span class="p">]}}};</span>
<span class="kr">return</span> <span class="n">l1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="c1">-- Returns: 1</span></code></pre>
</div>
<p>
Note that the fact that <code>lua</code> interprets all strings as raw code can cause some confusion:</p>
<div>
<pre><code class="chroma language-lisp"><span class="p">(</span><span class="nb">defmacro</span> <span class="nv">something-with-lua</span> <span class="p">(</span><span class="nv">arg</span><span class="p">)</span> <span class="o">`</span><span class="p">(</span><span class="nv">lua</span> <span class="s">&#34;some_lua_global[&#34;</span> <span class="o">,</span><span class="nv">arg</span> <span class="s">&#34;]&#34;</span><span class="p">))</span>

<span class="p">(</span><span class="nv">something-with-lua</span> <span class="s">&#34;a string&#34;</span><span class="p">)</span></code></pre>
</div>
<div>
<pre><code class="chroma language-lua"> <span class="kr">return</span> <span class="n">some_lua_global</span><span class="p">[</span><span class="n">a</span> <span class="n">string</span><span class="p">]</span> <span class="c1">-- Oops</span></code></pre>
</div>
<p>
Here&#39;s a way that generates the expected code:</p>
<div>
<pre><code class="chroma language-lisp"><span class="p">(</span><span class="nb">defmacro</span> <span class="nv">something-with-lua</span> <span class="p">(</span><span class="nv">arg</span><span class="p">)</span>
  <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">arg-sym</span> <span class="p">(</span><span class="nf">gensym</span><span class="p">)))</span>
    <span class="o">`</span><span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="o">,</span><span class="nv">arg-sym</span> <span class="o">,</span><span class="nv">arg</span><span class="p">))</span> <span class="p">(</span><span class="nv">lua</span> <span class="s">&#34;some_lua_global[&#34;</span> <span class="o">,</span><span class="nv">arg-sym</span> <span class="s">&#34;]&#34;</span><span class="p">))))</span>

<span class="p">(</span><span class="nv">something-with-lua</span> <span class="s">&#34;a string&#34;</span><span class="p">)</span></code></pre>
</div>
<div>
<pre><code class="chroma language-lua"><span class="kd">local</span> <span class="n">l1</span> <span class="o">=</span> <span class="s2">&#34;a string&#34;</span><span class="p">;</span> <span class="kr">return</span> <span class="n">some_lua_global</span><span class="p">[</span><span class="n">l1</span><span class="p">]</span></code></pre>
</div>
</div>
</div>
<div id="user-content-outline-container-headline-8">
<h4 id="user-content-headline-8">
<code>(lua-push (&amp;rest pushed-forms) expr)</code>
</h4>
<div id="user-content-outline-text-headline-8">
<p>
First, <code>pushed-forms</code> are pushed to the current context. Then the lisp expression <code>expr</code> is returned.</p>
<p>
The elements of <code>pushed-forms</code> are parsed in the same way as the <code>forms</code> of a <code>lua</code> special form.</p>
<p>
This special form is mainly useful to create Lua statements, since normally in LCL every Lisp expression matches to a Lua <em>expression</em> during compilation.</p>
<div>
<pre><code class="chroma language-lisp"><span class="p">(</span><span class="k">progn</span>
  <span class="p">(</span><span class="nb">defun</span> <span class="nf">rplaca</span> <span class="p">(</span><span class="nc">cons</span> <span class="nv">object</span><span class="p">)</span> <span class="p">(</span><span class="nv">lua-push</span> <span class="p">(</span><span class="s">&#34; &#34;</span> <span class="nc">cons</span> <span class="s">&#34;[1] = &#34;</span> <span class="nv">object</span><span class="p">)</span> <span class="nv">object</span><span class="p">))</span>
  <span class="p">(</span><span class="nb">defun</span> <span class="nf">rplacd</span> <span class="p">(</span><span class="nc">cons</span> <span class="nv">object</span><span class="p">)</span> <span class="p">(</span><span class="nv">lua-push</span> <span class="p">(</span><span class="s">&#34; &#34;</span> <span class="nc">cons</span> <span class="s">&#34;[2] = &#34;</span> <span class="nv">object</span><span class="p">)</span> <span class="nv">object</span><span class="p">)))</span></code></pre>
</div>
<div>
<pre><code class="chroma language-lua"> <span class="n">CL_LIB.ID</span><span class="p">(</span>
   <span class="n">CL_LIB</span><span class="p">[</span><span class="s2">&#34;FUNCTION-SETQ&#34;</span><span class="p">](</span><span class="n">CL</span><span class="p">[</span><span class="s2">&#34;RPLACA&#34;</span><span class="p">]</span> <span class="p">,</span>
    <span class="n">CL_LIB</span><span class="p">[</span><span class="s2">&#34;ALLOC-FUNCTION&#34;</span><span class="p">]({</span><span class="n">CL</span><span class="p">[</span><span class="s2">&#34;CONS&#34;</span><span class="p">],{</span><span class="n">CL_LIB</span><span class="p">[</span><span class="s2">&#34;OBJECT&#34;</span><span class="p">],</span><span class="n">CL</span><span class="p">[</span><span class="s2">&#34;NIL&#34;</span><span class="p">]}},</span>
     <span class="kr">function</span> <span class="p">(</span><span class="n">l1</span><span class="p">,</span> <span class="n">l2</span><span class="p">,</span>  <span class="p">...)</span>   <span class="n">l1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">l2</span> <span class="kr">return</span> <span class="n">l2</span> <span class="kr">end</span><span class="p">))</span> <span class="p">);</span>
<span class="kr">return</span>
  <span class="n">CL_LIB</span><span class="p">[</span><span class="s2">&#34;FUNCTION-SETQ&#34;</span><span class="p">](</span><span class="n">CL</span><span class="p">[</span><span class="s2">&#34;RPLACD&#34;</span><span class="p">]</span> <span class="p">,</span>
    <span class="n">CL_LIB</span><span class="p">[</span><span class="s2">&#34;ALLOC-FUNCTION&#34;</span><span class="p">]({</span><span class="n">CL</span><span class="p">[</span><span class="s2">&#34;CONS&#34;</span><span class="p">],{</span><span class="n">CL_LIB</span><span class="p">[</span><span class="s2">&#34;OBJECT&#34;</span><span class="p">],</span><span class="n">CL</span><span class="p">[</span><span class="s2">&#34;NIL&#34;</span><span class="p">]}},</span>
     <span class="kr">function</span> <span class="p">(</span><span class="n">l3</span><span class="p">,</span> <span class="n">l4</span><span class="p">,</span>  <span class="p">...)</span>   <span class="n">l3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">l4</span> <span class="kr">return</span> <span class="n">l4</span> <span class="kr">end</span><span class="p">)</span> <span class="p">)</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="user-content-outline-container-headline-9">
<h3 id="user-content-headline-9">
LCL Datatypes
</h3>
<div id="user-content-outline-text-headline-9">
<p>
All Lisp objects can be matched to a Lua object.</p>
<div id="user-content-outline-container-headline-10">
<h4 id="user-content-headline-10">
Symbols
</h4>
<div id="user-content-outline-text-headline-10">
<p>
<strong>Symbols</strong> are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span> <span class="n">package</span> <span class="o">=</span> <span class="n">PACKAGE</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">STRING</span> <span class="p">}</span></code></pre>
</div>
<p>
Symbols have the metatable <code>cl-lib:symbol-metatable</code> (or <code>CL_LIB[&#39;SYMBOL-METATABLE&#39;]</code> in Lua)</p>
</div>
</div>
<div id="user-content-outline-container-headline-11">
<h4 id="user-content-headline-11">
Lists
</h4>
<div id="user-content-outline-text-headline-11">
<p>
<strong>Lists</strong> are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">CAR</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">CDR</span> <span class="p">}</span>
<span class="c1">-- or</span>
<span class="p">{</span><span class="n">CAR</span><span class="p">,</span> <span class="n">CDR</span><span class="p">}</span></code></pre>
</div>
<p>
These cons cells have a <code>nil</code> metatable (Lua&#39;s <code>nil</code>).</p>
<p>
For instance, the Lisp list <code>&#39;(1 2 3 4)</code> corresponds to the Lua expression <code>{1, {2, {3, {4, CL.NIL}}}}</code>.</p>
</div>
</div>
<div id="user-content-outline-container-headline-12">
<h4 id="user-content-headline-12">
Numbers
</h4>
<div id="user-content-outline-text-headline-12">
<p>
<strong>Integers</strong> and <strong>floats</strong> use the internal Lua number type.</p>
<div>
<pre><code class="chroma language-lua"><span class="mi">53</span> <span class="o">+</span> <span class="n">eval</span><span class="p">(</span><span class="s1">&#39;(* 0.5 2)&#39;</span><span class="p">)</span> <span class="c1">-- 54</span></code></pre>
</div>
<p>
<strong>Rational</strong> numbers are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span> <span class="n">n</span> <span class="o">=</span> <span class="n">numerator_integer</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="n">denominator_integer</span> <span class="p">}</span></code></pre>
</div>
<p>
Rational numbers have the metatable <code>cl-lib:rational-metatable</code> (or <code>CL_LIB[&#34;RATIONAL-METATABLE&#34;]</code> in Lua)</p>
<p>
<strong>Complex</strong> numbers are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span> <span class="n">r</span> <span class="o">=</span> <span class="n">real_part</span><span class="p">,</span> <span class="n">i</span> <span class="o">=</span> <span class="n">imag_part</span> <span class="p">}</span></code></pre>
</div>
<p>
Complex numbers have the metatable <code>cl-lib:complex-metatable</code> (or <code>CL_LIB[&#34;COMPLEX-METATABLE&#34;]</code> in Lua)</p>
<p>
<strong>Bignums</strong> are not implemented in LCL.</p>
</div>
</div>
<div id="user-content-outline-container-headline-13">
<h4 id="user-content-headline-13">
Chars
</h4>
<div id="user-content-outline-text-headline-13">
<p>
<strong>Characters</strong> are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span> <span class="n">char</span> <span class="o">=</span> <span class="n">SINGLE_CHAR_STRING</span><span class="p">,</span> <span class="n">code</span> <span class="o">=</span> <span class="n">CODE</span> <span class="p">}</span></code></pre>
</div>
<p>
Characters have the metatable <code>cl-lib:char-metatable</code> (or <code>CL_LIB[&#39;CHAR-METATABLE&#39;]</code> in Lua).</p>
<p>
The <code>char</code> field of the table contains a Lua string containing a single character.</p>
</div>
</div>
<div id="user-content-outline-container-headline-14">
<h4 id="user-content-headline-14">
Strings
</h4>
<div id="user-content-outline-text-headline-14">
<p>
<strong>Strings</strong> are Lua strings.</p>
<div>
<pre><code class="chroma language-lua"><span class="s2">&#34;Sample &#34;</span> <span class="o">..</span> <span class="n">eval</span><span class="p">(</span><span class="s1">&#39;&#34;String&#34;&#39;</span><span class="p">)</span> <span class="c1">-- &#34;Sample String&#34;</span></code></pre>
</div>
</div>
</div>
<div id="user-content-outline-container-headline-15">
<h4 id="user-content-headline-15">
Arrays
</h4>
<div id="user-content-outline-text-headline-15">
<p>
<strong>Arrays</strong> are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span>
  <span class="n">dim</span> <span class="o">=</span> <span class="n">DIMENSION</span><span class="p">,</span>
  <span class="n">default</span> <span class="o">=</span> <span class="n">INITIAL_ELEMENT</span><span class="p">,</span>
  <span class="n">fp</span> <span class="o">=</span> <span class="n">FILL_POINTER</span><span class="p">,</span>
  <span class="n">disp</span> <span class="o">=</span> <span class="n">DISPLACED_ARRAY</span><span class="p">,</span>
  <span class="n">offset</span> <span class="o">=</span> <span class="n">OFFSET</span><span class="p">,</span>
  <span class="n">data</span> <span class="o">=</span> <span class="n">DATA</span>
<span class="p">}</span></code></pre>
</div>
<p>
Arrays have the metatable <code>cl-lib:array-metatable</code> (or <code>CL_LIB[&#39;ARRAY-METATABLE&#39;]</code> in Lua)</p>
</div>
</div>
<div id="user-content-outline-container-headline-16">
<h4 id="user-content-headline-16">
Hash-Tables
</h4>
<div id="user-content-outline-text-headline-16">
<p>
<strong>Hash-Tables</strong> are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span> <span class="n">data</span> <span class="o">=</span> <span class="p">{}</span> <span class="p">}</span></code></pre>
</div>
<p>
The <code>data</code> field is a lua table whose key/value entries correspond to the entry in the hash-table. Additionally the hash-table has the metatable <code>cl-lib:hash-table-metatable</code> (or <code>CL_LIB[&#39;HASH-TABLE-METATABLE&#39;]</code> in Lua)</p>
<p>
Note that since the hash-table uses lua&#39;s indexing, the only index test type corresponds closest to <code>#&#39;equal</code>.</p>
</div>
</div>
<div id="user-content-outline-container-headline-17">
<h4 id="user-content-headline-17">
Structs
</h4>
<div id="user-content-outline-text-headline-17">
<p>
<strong>Structures</strong> are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span>
  <span class="n">name</span> <span class="o">=</span> <span class="n">STRUCTURE_NAME_SYMBOL</span><span class="p">,</span>
  <span class="p">...</span>
<span class="p">}</span></code></pre>
</div>
<p>
Additional key value pairs in the table are the slots of the structures, where the key is the symbol representing the slot name.</p>
<p>
Structures have the metatable <code>cl-lib:struct-metatable</code> (or <code>CL_LIB[&#39;STRUCT-METATABLE&#39;]</code> in Lua)</p>
</div>
</div>
<div id="user-content-outline-container-headline-18">
<h4 id="user-content-headline-18">
Functions
</h4>
<div id="user-content-outline-text-headline-18">
<p>
Lisp <strong>functions</strong> are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span> <span class="n">arglist</span> <span class="o">=</span> <span class="n">ARGLIST</span><span class="p">,</span> <span class="n">func</span> <span class="o">=</span> <span class="n">LUA_FUNCTION</span> <span class="p">}</span></code></pre>
</div>
<p>
Functions have the metatable <code>cl-lib:function-metatable</code> (or <code>CL_LIB[&#39;FUNCTION-METATABLE&#39;]</code> in Lua). This metatable has a <code>__call</code> metamethod.</p>
</div>
</div>
<div id="user-content-outline-container-headline-19">
<h4 id="user-content-headline-19">
Macros
</h4>
<div id="user-content-outline-text-headline-19">
<p>
Lisp <strong>macros</strong> are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span> <span class="n">macro_function</span> <span class="o">=</span> <span class="n">LISP_FUNCTION_TABLE</span> <span class="p">}</span></code></pre>
</div>
<p>
Macros have the metatable <code>cl-lib:macro-metatable</code> (or <code>CL_LIB[&#39;MACRO-METATABLE&#39;]</code> in Lua). This metatable has a <code>__call</code> metamethod.</p>
</div>
</div>
<div id="user-content-outline-container-headline-20">
<h4 id="user-content-headline-20">
Packages
</h4>
<div id="user-content-outline-text-headline-20">
<p>
<strong>Packages</strong> are stored in a table of the following format:</p>
<div>
<pre><code class="chroma language-lua"><span class="p">{</span>
  <span class="n">name</span> <span class="o">=</span> <span class="n">PACKAGE_NAME</span>
  <span class="p">...</span>
<span class="p">}</span></code></pre>
</div>
<p>
Additional key value pairs in the table contain the symbols inside of the package. These symbols are created automatically on index if they do not yet exist. The package has the metatable <code>cl-lib:package-metatable</code> (or <code>CL_LIB[&#39;PACKAGE-METATABLE&#39;]</code> in Lua).</p>
</div>
</div>
</div>
</div>
<div id="user-content-outline-container-headline-21">
<h3 id="user-content-headline-21">
LCL Calling Convention
</h3>
<div id="user-content-outline-text-headline-21">
<p>
Lua functions matching Lisp functions have the following calling convention:</p>
<table>
<tbody>
<tr>
<td>Arglist</td>
<td>Lua</td>
</tr>
</tbody>
<tbody>
<tr>
<td>(a b c)</td>
<td>f(a, b, c)</td>
</tr>
</tbody>
<tbody>
<tr>
<td>(a &amp;optional b c)</td>
<td>f(a)</td>
</tr>
<tr>
<td></td>
<td>f(a, nil, nil)</td>
</tr>
<tr>
<td></td>
<td>f(a, b, c)</td>
</tr>
</tbody>
<tbody>
<tr>
<td>(a &amp;key b c)</td>
<td>f(a, k(PACKAGE.B, b, PACKAGE.C,c ))</td>
</tr>
<tr>
<td></td>
<td>f(a, { [PACKAGE.B] = b, [PACKAGE.C] = c })</td>
</tr>
<tr>
<td></td>
<td>f(a, { [PACKAGE.C] = c })</td>
</tr>
<tr>
<td></td>
<td>f(a, {})</td>
</tr>
</tbody>
<tbody>
<tr>
<td>(a &amp;rest b)</td>
<td>f(a, l(remaining, elements))</td>
</tr>
</tbody>
</table>
<p>
Positional arguments are positional arguments in the Lua function.</p>
<p>
Optional arguments are optional arguments in the Lua function. The called function is responsible of setting its default values if the <code>&amp;optional</code> (or <code>&amp;key</code>) argument is not supplied, is <code>nil</code> (Lua&#39;s <code>nil</code>) or <code>false</code>.</p>
<p>
If a <code>&amp;rest</code> argument is required, A Lua argument taking a Lisp list of the remaining arguments is added at the end of the positional and optional arguments.</p>
<p>
If the function has <code>&amp;key</code> arguments, an additional Lua argument taking a table of key/values is added at the end of the positional, optional and rest argument. The key of this table is the corresponding symbol (not the keyword) in the arglist</p>
<p>
The <code>l</code> and <code>k</code> functions are provided to generate <code>&amp;rest</code> arguments or <code>&amp;key</code> arguments, respectively. The <code>&amp;rest</code> and <code>&amp;key</code> arguments equivalent in the Lua function are not optional, and must be supplied.</p>
<p>
Any <code>&amp;aux</code> in the arglist is managed by the called function.</p>
</div>
</div>
</div>
</div>

			
		</div>
	</div>
</div>



		
	</div>
</div>


	

	</div>

	

	<footer class="page-footer" role="group" aria-label="Footer">
	<div class="grid" aria-label="Links">
		<div class="branding not-mobile">
			<img src="https://design.codeberg.org/logo-kit/icon_inverted.svg">
		</div>
		<div>
			<b>Codeberg</b>
			<ul>
				<li><a href="https://docs.codeberg.org" target="_blank">Documentation</a></li>
				<li><a href="/Codeberg/Community/issues">Community Issues</a></li>
				
				<li><a href="/Codeberg/Contributing">Contributing</a>
				<li><a href="https://docs.codeberg.org/contact/#abuse" target="_blank">Report Abuse</a>
			</ul>
		</div>
		<div>
			<b>Association</b>
			<ul>
				<li><a href="https://docs.codeberg.org/getting-started/what-is-codeberg/#what-is-codeberg-e.v.%3F" target="_blank">Who are we?</a></li>
				<li><a href="/codeberg/org/src/en/bylaws.md" target="_blank">Bylaws / Satzung</a></li>
				<li><a href="https://docs.codeberg.org/improving-codeberg/#donate-to-codeberg" target="_blank">Donate</a></li>
				<li><a href="https://join.codeberg.org" target="_blank">Join / Support</a></li>
				<li><a href="https://docs.codeberg.org/contact/" target="_blank">Contact</a></li>
			</ul>
		</div>
		<div>
			<b>Service</b>
			<ul>
				<li><a href="https://codeberg.page" target="_blank">Codeberg Pages</a></li>
				<li><a href="https://translate.codeberg.org" target="_blank">Weblate Translations</a></li>
				<li><a href="https://docs.codeberg.org/ci/#using-codeberg's-instance-of-woodpecker-ci" target="_blank">Woodpecker CI</a></li>
				
					<li><a href="/api/swagger">Forgejo API</a></li>
				
				<li><a href="https://status.codeberg.eu" target="_blank">Status Page</a></li>
			</ul>
		</div>
		<div>
			<b>Legal</b>
			<ul>
				<li><a href="/codeberg/org/src/Imprint.md" target="_blank">Imprint / Impressum</a></li>
				<li><a href="/codeberg/org/src/PrivacyPolicy.md" target="_blank">Privacy Policy</a></li>
				<li><a href="/assets/js/licenses.txt">Licenses</a></li>
				<li><a href="/codeberg/org/src/TermsOfUse.md">Terms of Use</a></li>
			</ul>
		</div>
	</div>
	<center>
		<a href="https://blog.codeberg.org" target="_blank">Blog</a> |
		<a href="https://social.anoxinon.de/@Codeberg" target="_blank" rel="noopener noreferrer">Mastodon</a> |
		<a href="https://matrix.to/#/#codeberg-space:matrix.org" target="_blank" rel="noopener noreferrer">Matrix Space</a>
	</center>
	<div class="ui right">
		<div class="ui language bottom floating slide up dropdown link item button">
			<svg viewBox="0 0 16 16" class="svg octicon-globe" width="16" height="16" aria-hidden="true"><path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0ZM5.78 8.75a9.64 9.64 0 0 0 1.363 4.177c.255.426.542.832.857 1.215.245-.296.551-.705.857-1.215A9.64 9.64 0 0 0 10.22 8.75Zm4.44-1.5a9.64 9.64 0 0 0-1.363-4.177c-.307-.51-.612-.919-.857-1.215a9.927 9.927 0 0 0-.857 1.215A9.64 9.64 0 0 0 5.78 7.25Zm-5.944 1.5H1.543a6.507 6.507 0 0 0 4.666 5.5c-.123-.181-.24-.365-.352-.552-.715-1.192-1.437-2.874-1.581-4.948Zm-2.733-1.5h2.733c.144-2.074.866-3.756 1.58-4.948.12-.197.237-.381.353-.552a6.507 6.507 0 0 0-4.666 5.5Zm10.181 1.5c-.144 2.074-.866 3.756-1.58 4.948-.12.197-.237.381-.353.552a6.507 6.507 0 0 0 4.666-5.5Zm2.733-1.5a6.507 6.507 0 0 0-4.666-5.5c.123.181.24.365.353.552.714 1.192 1.436 2.874 1.58 4.948Z"/></svg>
			<div class="text">English</div>
			<div class="menu language-menu">
				
					<a lang="id-ID" data-url="/?lang=id-ID" class="item ">Bahasa Indonesia</a>
				
					<a lang="de-DE" data-url="/?lang=de-DE" class="item ">Deutsch</a>
				
					<a lang="en-US" data-url="/?lang=en-US" class="item active selected">English</a>
				
					<a lang="es-ES" data-url="/?lang=es-ES" class="item ">Espaol</a>
				
					<a lang="fr-FR" data-url="/?lang=fr-FR" class="item ">Franais</a>
				
					<a lang="it-IT" data-url="/?lang=it-IT" class="item ">Italiano</a>
				
					<a lang="lv-LV" data-url="/?lang=lv-LV" class="item ">Latvieu</a>
				
					<a lang="hu-HU" data-url="/?lang=hu-HU" class="item ">Magyar nyelv</a>
				
					<a lang="nl-NL" data-url="/?lang=nl-NL" class="item ">Nederlands</a>
				
					<a lang="pl-PL" data-url="/?lang=pl-PL" class="item ">Polski</a>
				
					<a lang="pt-PT" data-url="/?lang=pt-PT" class="item ">Portugus de Portugal</a>
				
					<a lang="pt-BR" data-url="/?lang=pt-BR" class="item ">Portugus do Brasil</a>
				
					<a lang="fi-FI" data-url="/?lang=fi-FI" class="item ">Suomi</a>
				
					<a lang="sv-SE" data-url="/?lang=sv-SE" class="item ">Svenska</a>
				
					<a lang="tr-TR" data-url="/?lang=tr-TR" class="item ">Trke</a>
				
					<a lang="cs-CZ" data-url="/?lang=cs-CZ" class="item ">etina</a>
				
					<a lang="el-GR" data-url="/?lang=el-GR" class="item "></a>
				
					<a lang="bg-BG" data-url="/?lang=bg-BG" class="item "></a>
				
					<a lang="ru-RU" data-url="/?lang=ru-RU" class="item "></a>
				
					<a lang="uk-UA" data-url="/?lang=uk-UA" class="item "></a>
				
					<a lang="fa-IR" data-url="/?lang=fa-IR" class="item "></a>
				
					<a lang="ml-IN" data-url="/?lang=ml-IN" class="item "></a>
				
					<a lang="ja-JP" data-url="/?lang=ja-JP" class="item "></a>
				
					<a lang="zh-CN" data-url="/?lang=zh-CN" class="item "></a>
				
					<a lang="zh-TW" data-url="/?lang=zh-TW" class="item "></a>
				
					<a lang="zh-HK" data-url="/?lang=zh-HK" class="item "></a>
				
					<a lang="ko-KR" data-url="/?lang=ko-KR" class="item "></a>
				
			</div>
		</div>
	</div>
</footer>




	<script src="/assets/js/index.js?v=1.20.5~0-41-gb6bd18ca8" onerror="alert('Failed to load asset files from ' + this.src + '. Please make sure the asset files can be accessed.')"></script>

</body>
</html>

